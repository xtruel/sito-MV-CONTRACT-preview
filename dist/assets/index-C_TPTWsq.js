(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function f(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(e){if(e.ep)return;e.ep=!0;const r=f(e);fetch(e.href,r)}})();document.addEventListener("DOMContentLoaded",()=>{const c=document.getElementById("burger"),s=document.getElementById("mobile"),f=document.getElementById("year"),i=document.getElementById("contactForm"),e=document.getElementById("formHint"),r=document.querySelectorAll(".reveal");f&&(f.textContent=String(new Date().getFullYear()));const l=n=>{const t=n!==void 0?n:c.getAttribute("aria-expanded")==="false";c.setAttribute("aria-expanded",String(t)),s.classList.toggle("active",t);const o=c.querySelectorAll("span");t?(o[0].style.transform="rotate(45deg) translate(5px, 5px)",o[1].style.opacity="0",o[2].style.transform="rotate(-45deg) translate(7px, -7px)"):(o[0].style.transform="none",o[1].style.opacity="1",o[2].style.transform="none")};c==null||c.addEventListener("click",()=>l()),s==null||s.querySelectorAll("a").forEach(n=>{n.addEventListener("click",()=>l(!1))}),document.querySelectorAll('a[href^="#"]').forEach(n=>{n.addEventListener("click",function(t){const o=this.getAttribute("href");if(o==="#")return;const a=document.querySelector(o);if(a){t.preventDefault();const u=a.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:u,behavior:"smooth"})}})});const g=new IntersectionObserver(n=>{n.forEach(t=>{t.isIntersecting&&(t.target.classList.add("active"),g.unobserve(t.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});r.forEach(n=>g.observe(n)),i==null||i.addEventListener("submit",n=>{n.preventDefault(),e.textContent="Sto elaborando...",e.style.color="var(--accent)";const t=new FormData(i),o=t.get("name"),a=t.get("email"),d=t.get("message");if(!o||!a||!d){e.textContent="Tutti i campi sono obbligatori.",e.style.color="#ff4d4d";return}const m=encodeURIComponent(`Richiesta Consulenza - ${o}`),u=encodeURIComponent(`Nome: ${o}
Email: ${a}

Messaggio:
${d}`);setTimeout(()=>{window.location.href=`mailto:info@mcontract.it?subject=${m}&body=${u}`,e.textContent="Apertura client email in corso...",i.reset()},1e3)});const p=document.querySelector(".hero__visual");p&&document.addEventListener("mousemove",n=>{const{clientX:t,clientY:o}=n,{innerWidth:a,innerHeight:d}=window,m=(t-a/2)/50,u=(o-d/2)/50;p.style.transform=`perspective(1000px) rotateY(${m}deg) rotateX(${-u}deg)`})});
